{"ast":null,"code":"var _jsxFileName = \"/Users/merveerkan/Desktop/NurCollection/Frontend/src/pages/ProductList.js\";\nimport React, { useState, useEffect } from \"react\";\nimport PanelTemplate from \"./PanelTemplate\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport SplashScreen from './SplashScreen';\nfunction ProductList() {\n  const navigate = useNavigate();\n  const location = window.location;\n  const [loading, setLoading] = useState(true);\n  const [products, setProducts] = useState([]);\n  const [cart, setCart] = useState([]);\n  const [info, setInfo] = useState(() => {\n    const stored = localStorage.getItem(\"info\");\n    return stored ? JSON.parse(stored) : {};\n  });\n  const role = location.pathname.startsWith(\"/manager\") ? \"manager\" : location.pathname.startsWith(\"/employee\") ? \"employee\" : \"customer\";\n  const basePath = role === \"manager\" ? \"/manager\" : role === \"employee\" ? \"/employee\" : \"/customer\";\n  const git = page => {\n    navigate(\"\".concat(basePath, \"/productList/\").concat(page));\n  };\n\n  // 1. ÃœrÃ¼nleri Ã§eken useEffect\n  useEffect(() => {\n    fetch(\"http://localhost:5003/product/list\").then(res => res.json()).then(data => {\n      if (data.success) {\n        setProducts(data.products);\n      }\n      setTimeout(() => {\n        setLoading(false);\n      }, 1000);\n    }).catch(err => {\n      console.error(\"Loading error:\", err);\n      setLoading(false);\n    });\n  }, []);\n  const personId = info === null || info === void 0 ? void 0 : info.person_id;\n  const cartkey = personId ? \"cart_\".concat(personId) : null;\n  useEffect(() => {\n    if (!cartkey) {\n      setCart([]);\n      return;\n    }\n    const storedCart = JSON.parse(localStorage.getItem(cartkey)) || [];\n    setCart(storedCart);\n  }, [cartkey]);\n\n  // ðŸ”¥ TÃœM HOOKLAR (useEffect'ler) BÄ°TTÄ°, ÅžÄ°MDÄ° KONTROL YAPABÄ°LÄ°RÄ°Z\n  if (loading) {\n    return /*#__PURE__*/React.createElement(SplashScreen, {\n      text: \"Products are being prepared....\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 16\n      }\n    });\n  }\n\n  // 3. DiÄŸer fonksiyonlar ve deÄŸiÅŸkenler\n  const productImages = {\n    1: \"/images/Swal.png\",\n    2: \"/images/scarf1.png\",\n    3: \"/images/Bonnet1.png\"\n  };\n  const handleDelete = async id => {\n    if (!window.confirm(\"Are you sure you want to delete this product??\")) return;\n    try {\n      const response = await fetch(\"http://localhost:5003/product/delete/\".concat(id), {\n        method: \"DELETE\"\n      });\n      const data = await response.json();\n      if (data.success) {\n        alert(\"Product deleted!\");\n        setProducts(prev => prev.filter(p => p.product_id !== id));\n      } else {\n        alert(data.message);\n      }\n    } catch (err) {\n      alert(\"Error while deleting product.\");\n    }\n  };\n  const addToCart = product => {\n    if (!cartkey) {\n      alert(\"User information could not be found, please log in again..\");\n      return;\n    }\n    let updatedCart = [...cart];\n    const index = updatedCart.findIndex(item => item.product.product_id === product.product_id);\n    if (index !== -1) {\n      if (updatedCart[index].quantity >= product.quantity) {\n        alert(\"Insufficient products in stock.!\");\n        return;\n      }\n      updatedCart[index].quantity += 1;\n    } else {\n      if (product.quantity <= 0) {\n        alert(\"This product is out of stock.!\");\n        return;\n      }\n      updatedCart.push({\n        product,\n        quantity: 1\n      });\n    }\n    localStorage.setItem(cartkey, JSON.stringify(updatedCart));\n    setCart(updatedCart);\n  };\n  const totalCount = cart.reduce((sum, item) => sum + item.quantity, 0);\n  return /*#__PURE__*/React.createElement(PanelTemplate, {\n    title: \"Product List\",\n    rightContent: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, role == \"manager\" && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => git(\"productAdd\"),\n      style: {\n        backgroundColor: \"#538456ff\",\n        color: \"white\",\n        padding: \"10px 20px\",\n        borderRadius: \"8px\",\n        border: \"none\",\n        cursor: \"pointer\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 29\n      }\n    }, \"ProductAdd\")), role == \"employee\" && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => git(\"productAdd\"),\n      style: {\n        backgroundColor: \"#538456ff\",\n        color: \"white\",\n        padding: \"10px 20px\",\n        borderRadius: \"8px\",\n        border: \"none\",\n        cursor: \"pointer\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 29\n      }\n    }, \"ProductAdd\")), role == \"customer\" && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"flex-end\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => git(\"account\"),\n      style: {\n        backgroundColor: \"#538456ff\",\n        color: \"white\",\n        padding: \"10px 20px\",\n        borderRadius: \"8px\",\n        border: \"none\",\n        cursor: \"pointer\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 29\n      }\n    }, info === null || info === void 0 ? void 0 : info.username), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => git(\"productCart\"),\n      style: {\n        backgroundColor: \"#538456ff\",\n        color: \"white\",\n        padding: \"10px 20px\",\n        borderRadius: \"8px\",\n        border: \"none\",\n        cursor: \"pointer\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 29\n      }\n    }, \"Cart (\", totalCount, \")\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-grid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 21\n      }\n    }, products.map(p => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-card\",\n      key: p.product_id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 29\n      }\n    }, role === \"manager\" && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        cursor: \"pointer\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: p.image_url && p.image_url !== \"/images/default.png\" ? p.image_url : productImages[p.category_id] || \"/images/default.png\",\n      alt: \"\".concat(p.product_name, \" - \").concat(p.category_name),\n      className: \"product-cart\",\n      onError: e => {\n        e.target.src = \"/images/default.png\";\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 41\n      }\n    }, p.product_name, \" \", p.category_name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 41\n      }\n    }, p.material), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 41\n      }\n    }, p.price, \" \\u20BA - \", p.quantity), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => handleDelete(p.product_id),\n      style: {\n        backgroundColor: \"#cd2014ff\",\n        color: \"white\",\n        padding: \"10px 20px\",\n        borderRadius: \"8px\",\n        border: \"none\",\n        cursor: \"pointer\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 41\n      }\n    }, \"Delete\")), role === \"employee\" && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        cursor: \"pointer\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: p.image_url && p.image_url !== \"/images/default.png\" ? p.image_url : productImages[p.category_id] || \"/images/default.png\",\n      alt: p.product_name,\n      className: \"product-image\",\n      onError: e => {\n        e.target.src = \"/images/default.png\";\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 45\n      }\n    }, p.product_name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 45\n      }\n    }, p.material), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 45\n      }\n    }, p.price, \" \\u20BA - \", p.quantity)), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => handleDelete(p.product_id),\n      style: {\n        backgroundColor: \"#cd2014ff\",\n        color: \"white\",\n        padding: \"10px 20px\",\n        borderRadius: \"8px\",\n        border: \"none\",\n        cursor: \"pointer\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 41\n      }\n    }, \"Delete\")), role === \"customer\" && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        cursor: \"pointer\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: p.image_url && p.image_url !== \"/images/default.png\" ? p.image_url : productImages[p.category_id] || \"/images/default.png\",\n      alt: \"\".concat(p.category_name, \" - \").concat(p.product_name),\n      style: {\n        width: \"100%\",\n        height: \"200px\",\n        objectFit: \"cover\"\n      },\n      onError: e => {\n        e.target.src = \"/images/default.png\";\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 45\n      }\n    }, p.product_name, \" \", p.category_name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 45\n      }\n    }, p.material), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 45\n      }\n    }, p.price, \" \\u20BA - \", p.quantity)), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => addToCart(p),\n      style: {\n        padding: \"10px\",\n        backgroundColor: \"#538456ff\",\n        color: \"white\",\n        border: \"none\",\n        borderRadius: \"8px\",\n        cursor: \"pointer\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 41\n      }\n    }, \"Add to Cart\")))))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  });\n}\nexport default ProductList;","map":{"version":3,"names":["React","useState","useEffect","PanelTemplate","useNavigate","useLocation","SplashScreen","ProductList","navigate","location","window","loading","setLoading","products","setProducts","cart","setCart","info","setInfo","stored","localStorage","getItem","JSON","parse","role","pathname","startsWith","basePath","git","page","concat","fetch","then","res","json","data","success","setTimeout","catch","err","console","error","personId","person_id","cartkey","storedCart","createElement","text","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","productImages","handleDelete","id","confirm","response","method","alert","prev","filter","p","product_id","message","addToCart","product","updatedCart","index","findIndex","item","quantity","push","setItem","stringify","totalCount","reduce","sum","title","rightContent","Fragment","type","onClick","style","backgroundColor","color","padding","borderRadius","border","cursor","display","justifyContent","username","className","map","key","src","image_url","category_id","alt","product_name","category_name","onError","e","target","material","price","width","height","objectFit"],"sources":["/Users/merveerkan/Desktop/NurCollection/Frontend/src/pages/ProductList.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport PanelTemplate from \"./PanelTemplate\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport SplashScreen from './SplashScreen';\n\nfunction ProductList() {\n    const navigate = useNavigate();\n    const location = window.location;\n    const [loading, setLoading] = useState(true);\n    const [products, setProducts] = useState([]);\n    const [cart, setCart] = useState([]);\n\n    const [info, setInfo] = useState(() => {\n        const stored = localStorage.getItem(\"info\");\n        return stored ? JSON.parse(stored) : {};\n    });\n\n    const role = location.pathname.startsWith(\"/manager\") ? \"manager\" : location.pathname.startsWith(\"/employee\") ? \"employee\" : \"customer\";\n    const basePath = role === \"manager\" ? \"/manager\" : role === \"employee\" ? \"/employee\" : \"/customer\";\n\n    const git = (page) => {\n        navigate(`${basePath}/productList/${page}`)\n    }\n\n    // 1. ÃœrÃ¼nleri Ã§eken useEffect\n    useEffect(() => {\n        fetch(\"http://localhost:5003/product/list\")\n            .then(res => res.json())\n            .then(data => {\n                if (data.success) {\n                    setProducts(data.products);\n                }\n                setTimeout(() => {\n                    setLoading(false);\n                }, 1000);\n            })\n            .catch(err => {\n                console.error(\"Loading error:\", err);\n                setLoading(false);\n            });\n    }, []);\n\n    const personId = info?.person_id;\n    const cartkey = personId ? `cart_${personId}` : null;\n\n\n    useEffect(() => {\n        if (!cartkey) {\n            setCart([]);\n            return;\n        }\n\n        const storedCart = JSON.parse(localStorage.getItem(cartkey)) || [];\n        setCart(storedCart);\n    }, [cartkey]);\n\n    // ðŸ”¥ TÃœM HOOKLAR (useEffect'ler) BÄ°TTÄ°, ÅžÄ°MDÄ° KONTROL YAPABÄ°LÄ°RÄ°Z\n    if (loading) {\n        return <SplashScreen text=\"Products are being prepared....\" />;\n    }\n\n    // 3. DiÄŸer fonksiyonlar ve deÄŸiÅŸkenler\n    const productImages = {\n        1: \"/images/Swal.png\",\n        2: \"/images/scarf1.png\",\n        3: \"/images/Bonnet1.png\",\n    };\n\n    const handleDelete = async (id) => {\n        if (!window.confirm(\"Are you sure you want to delete this product??\")) return;\n        try {\n            const response = await fetch(`http://localhost:5003/product/delete/${id}`, { method: \"DELETE\" });\n            const data = await response.json();\n            if (data.success) {\n                alert(\"Product deleted!\");\n                setProducts(prev => prev.filter(p => p.product_id !== id));\n            } else { alert(data.message); }\n        } catch (err) { alert(\"Error while deleting product.\"); }\n    };\n\n    const addToCart = (product) => {\n        if (!cartkey) {\n            alert(\"User information could not be found, please log in again..\");\n            return;\n        }\n        let updatedCart = [...cart];\n        const index = updatedCart.findIndex(item => item.product.product_id === product.product_id);\n        if (index !== -1) {\n            if (updatedCart[index].quantity >= product.quantity) { alert(\"Insufficient products in stock.!\"); return; }\n            updatedCart[index].quantity += 1;\n        } else {\n            if (product.quantity <= 0) { alert(\"This product is out of stock.!\"); return; }\n            updatedCart.push({ product, quantity: 1 });\n        }\n        localStorage.setItem(cartkey, JSON.stringify(updatedCart));\n        setCart(updatedCart);\n    };\n\n    const totalCount = cart.reduce((sum, item) => sum + item.quantity, 0);\n\n\n\n    return (\n        <PanelTemplate\n            title=\"Product List\"\n            rightContent={\n                <div>\n                    {role == \"manager\" && (\n                        <>\n                            <button type=\"button\" onClick={() => git(\"productAdd\")} style={{\n                                backgroundColor: \"#538456ff\",\n                                color: \"white\",\n                                padding: \"10px 20px\",\n                                borderRadius: \"8px\",\n                                border: \"none\",\n                                cursor: \"pointer\"\n                            }}>ProductAdd</button>\n                        </>\n                    )}\n                    {role == \"employee\" && (\n                        <>\n                            <button type=\"button\" onClick={() => git(\"productAdd\")} style={{\n                                backgroundColor: \"#538456ff\",\n                                color: \"white\",\n                                padding: \"10px 20px\",\n                                borderRadius: \"8px\",\n                                border: \"none\",\n                                cursor: \"pointer\"\n                            }}>ProductAdd</button>\n                        </>\n                    )}\n                    {role == \"customer\" && (\n                        <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n\n                            <button\n                                onClick={() => git(\"account\")}\n                                style={{\n                                    backgroundColor: \"#538456ff\",\n                                    color: \"white\",\n                                    padding: \"10px 20px\",\n                                    borderRadius: \"8px\",\n                                    border: \"none\",\n                                    cursor: \"pointer\"\n                                }}\n                            >\n                                {info?.username}\n                            </button>\n\n                            <button\n                                onClick={() => git(\"productCart\")}\n                                style={{\n                                    backgroundColor: \"#538456ff\",\n                                    color: \"white\",\n                                    padding: \"10px 20px\",\n                                    borderRadius: \"8px\",\n                                    border: \"none\",\n                                    cursor: \"pointer\"\n                                }}\n                            >\n                                Cart ({totalCount})\n                            </button>\n\n                        </div>\n\n                    )}\n                    <div className=\"product-grid\">\n                        {products.map(p => (\n                            <div className=\"product-card\" key={p.product_id}>\n\n                                {/* MANAGER GÃ–RÃœNÃœMÃœ */}\n                                {role === \"manager\" && (\n                                    <div style={{ cursor: \"pointer\" }}>\n                                        <img\n                                            src={p.image_url && p.image_url !== \"/images/default.png\" ? p.image_url : (productImages[p.category_id] || \"/images/default.png\")}\n                                            alt={`${p.product_name} - ${p.category_name}`}\n                                            className=\"product-cart\"\n                                            onError={(e) => { e.target.src = \"/images/default.png\"; }}\n                                        />\n                                        <h3>{p.product_name} {p.category_name}</h3>\n                                        <p>{p.material}</p>\n                                        <p>{p.price} â‚º - {p.quantity}</p>\n                                        <button type=\"button\" onClick={() => handleDelete(p.product_id)} style={{ backgroundColor: \"#cd2014ff\", color: \"white\", padding: \"10px 20px\", borderRadius: \"8px\", border: \"none\", cursor: \"pointer\" }}>\n                                            Delete\n                                        </button>\n                                    </div>\n                                )}\n\n                                {/* EMPLOYEE GÃ–RÃœNÃœMÃœ */}\n                                {role === \"employee\" && (\n                                    <>\n                                        <div style={{ cursor: \"pointer\" }}>\n                                            <img\n                                                src={p.image_url && p.image_url !== \"/images/default.png\" ? p.image_url : (productImages[p.category_id] || \"/images/default.png\")}\n                                                alt={p.product_name}\n                                                className=\"product-image\"\n                                                onError={(e) => { e.target.src = \"/images/default.png\"; }}\n                                            />\n                                            <h3>{p.product_name}</h3>\n                                            <p>{p.material}</p>\n                                            <p>{p.price} â‚º - {p.quantity}</p>\n\n                                        </div>\n                                        <button type=\"button\" onClick={() => handleDelete(p.product_id)} style={{ backgroundColor: \"#cd2014ff\", color: \"white\", padding: \"10px 20px\", borderRadius: \"8px\", border: \"none\", cursor: \"pointer\" }}>\n                                            Delete\n                                        </button>\n                                    </>\n                                )}\n\n                                {/* CUSTOMER GÃ–RÃœNÃœMÃœ */}\n                                {role === \"customer\" && (\n                                    <>\n                                        <div style={{ cursor: \"pointer\" }}>\n                                            <img\n                                                src={p.image_url && p.image_url !== \"/images/default.png\" ? p.image_url : (productImages[p.category_id] || \"/images/default.png\")}\n                                                alt={`${p.category_name} - ${p.product_name}`}\n                                                style={{ width: \"100%\", height: \"200px\", objectFit: \"cover\" }}\n                                                onError={(e) => { e.target.src = \"/images/default.png\"; }}\n                                            />\n                                            <h3>{p.product_name} {p.category_name}</h3>\n                                            <p>{p.material}</p>\n                                            <p>{p.price} â‚º - {p.quantity}</p>\n                                        </div>\n                                        <button type=\"button\" onClick={() => addToCart(p)} style={{ padding: \"10px\", backgroundColor: \"#538456ff\", color: \"white\", border: \"none\", borderRadius: \"8px\", cursor: \"pointer\" }}>\n                                            Add to Cart\n                                        </button>\n                                    </>\n                                )}\n                            </div>\n                        ))}\n                    </div>\n                </ div>\n\n            }\n        />\n    );\n}\n\nexport default ProductList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}