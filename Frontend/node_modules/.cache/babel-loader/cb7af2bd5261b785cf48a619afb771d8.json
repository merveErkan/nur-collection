{"ast":null,"code":"import _objectSpread from \"/Users/merveerkan/Desktop/NurCollection/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/merveerkan/Desktop/NurCollection/Frontend/src/pages/ProductCart.js\";\nimport React from \"react\";\nimport PanelTemplate from \"./PanelTemplate\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nfunction ProductCart() {\n  const navigate = useNavigate();\n  const git = page => {\n    navigate(\"\".concat(page));\n  };\n  const [cart, setCart] = useState([]);\n  useEffect(() => {\n    const cartkey = \"cart_\".concat(info.username);\n    const storedCart = JSON.parse(localStorage.getItem(cartkey)) || [];\n    setCart(storedCart);\n  }, []);\n  const decreaseQuantity = productId => {\n    const stored = localStorage.getItem(\"cart\");\n    let cart = stored ? JSON.parse(stored) : [];\n    cart = cart.map(item => {\n      if (item.product.product_id === productId) {\n        return _objectSpread(_objectSpread({}, item), {}, {\n          quantity: item.quantity - 1\n        });\n      }\n      return item;\n    }).filter(item => item.quantity > 0);\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n    setCart(cart);\n  };\n  const clearCart = () => {\n    localStorage.removeItem(\"cart\");\n    setCart([]);\n  };\n  const productImages = {\n    1: \"/images/Swal.png\",\n    2: \"/images/scarf1.png\",\n    3: \"/images/Bonnet1.png\"\n  };\n  return /*#__PURE__*/React.createElement(PanelTemplate, {\n    title: \"Product Cart\",\n    rightContent: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }\n    }, cart.length === 0 && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 43\n      }\n    }, \"Sepet bo\\u015F\"), cart.map(item => /*#__PURE__*/React.createElement(\"div\", {\n      key: item.product.product_id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 29\n      }\n    }, item.product.product_name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 29\n      }\n    }, \"Adet: \", item.quantity), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => decreaseQuantity(item.product.product_id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 29\n      }\n    }, \" Adet Azalt\"))), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: clearCart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    }, \"Sepeti Temizle\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  });\n}\nexport default ProductCart;","map":{"version":3,"names":["React","PanelTemplate","useNavigate","useState","useEffect","ProductCart","navigate","git","page","concat","cart","setCart","cartkey","info","username","storedCart","JSON","parse","localStorage","getItem","decreaseQuantity","productId","stored","map","item","product","product_id","_objectSpread","quantity","filter","setItem","stringify","clearCart","removeItem","productImages","createElement","title","rightContent","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","length","key","product_name","onClick"],"sources":["/Users/merveerkan/Desktop/NurCollection/Frontend/src/pages/ProductCart.js"],"sourcesContent":["import React from \"react\";\nimport PanelTemplate from \"./PanelTemplate\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\n\nfunction ProductCart() {\n    const navigate = useNavigate();\n    const git = (page) => {\n        navigate(`${page}`)\n    }\n    const [cart, setCart] = useState([]);\n\n    useEffect(() => {\n        const cartkey = `cart_${info.username}`;\n        const storedCart = JSON.parse(localStorage.getItem(cartkey)) || [];\n        setCart(storedCart);\n\n    }, []);\n\n    const decreaseQuantity = (productId) => {\n        const stored = localStorage.getItem(\"cart\");\n        let cart = stored ? JSON.parse(stored) : [];\n\n        cart = cart.map(item => {\n            if (item.product.product_id === productId) {\n                return { ...item, quantity: item.quantity - 1 };\n            }\n            return item;\n        }).filter(item => item.quantity > 0);\n\n        localStorage.setItem(\"cart\", JSON.stringify(cart));\n        setCart(cart);\n    };\n\n    const clearCart = () => {\n        localStorage.removeItem(\"cart\");\n        setCart([]);\n    };\n    const productImages = {\n        1: \"/images/Swal.png\",\n        2: \"/images/scarf1.png\",\n        3: \"/images/Bonnet1.png\",\n    };\n\n\n    return (\n        <PanelTemplate\n            title=\"Product Cart\"\n            rightContent={\n                <div>\n                    {cart.length === 0 && <p>Sepet bo≈ü</p>}\n\n                    {cart.map(item => (\n\n                        <div key={item.product.product_id}>\n                            <h4>{item.product.product_name}</h4>\n                            <p>Adet: {item.quantity}</p>\n                            <button onClick={() => decreaseQuantity(item.product.product_id)}> Adet Azalt\n                            </button>\n                        </div>\n                    ))}\n                    <button onClick={clearCart}>\n                        Sepeti Temizle\n                    </button>\n                </div>\n\n            }\n        />\n    );\n}\n\nexport default ProductCart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}