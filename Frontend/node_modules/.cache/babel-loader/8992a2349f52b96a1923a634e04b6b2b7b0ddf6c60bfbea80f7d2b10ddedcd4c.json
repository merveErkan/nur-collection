{"ast":null,"code":"import{useEffect,useState}from\"react\";import React from\"react\";import PanelTemplate from\"./PanelTemplate\";import{useNavigate}from\"react-router-dom\";import SplashScreen from'./SplashScreen';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MyOrder(){const navigate=useNavigate();const git=page=>{navigate(\"\".concat(page));};const[loading,setLoading]=useState(true);const[orders,setOrders]=useState([]);useEffect(()=>{// Login dosyasında düzelttiğimiz 'info' paketini okuyoruz\nconst storedInfo=localStorage.getItem(\"info\");if(storedInfo){const info=JSON.parse(storedInfo);console.log(\"Sorgulanan Person ID:\",info.person_id);const pId=info.person_id;fetch(\"https://nur-collection-backend-860749273875.europe-west1.run.app/order/my-orders/\".concat(pId)).then(res=>res.json()).then(data=>{console.log(\"Backend'den gelen veri:\",data);if(data.success&&data.orders.length>0){setOrders(data.orders);}else{console.log(\"Sipariş listesi boş geldi\");}setTimeout(()=>{setLoading(false);},1000);}).catch(err=>{console.error(\"Loading error:\",err);setLoading(false);});}},[]);const tableStyle={padding:\"12px\",textAlign:\"left\",border:\"1px solid #ddd\"};if(loading){return/*#__PURE__*/_jsx(SplashScreen,{text:\"Orders are being prepared....\"});}return/*#__PURE__*/_jsx(PanelTemplate,{title:\"My Order\",rightContent:/*#__PURE__*/_jsx(\"div\",{style:{padding:\"20px\"},children:loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading your orders...\"}):orders.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"You don't have any orders yet.\"}):/*#__PURE__*/_jsxs(\"table\",{style:{width:\"100%\",borderCollapse:\"collapse\",marginTop:\"10px\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{backgroundColor:\"#538456ff\",color:\"white\"},children:[/*#__PURE__*/_jsx(\"th\",{style:tableStyle,children:\"Order ID\"}),/*#__PURE__*/_jsx(\"th\",{style:tableStyle,children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{style:tableStyle,children:\"Total Amount\"}),/*#__PURE__*/_jsx(\"th\",{style:tableStyle,children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(o=>/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:\"1px solid #ddd\"},children:[/*#__PURE__*/_jsx(\"td\",{style:tableStyle,children:o.order_id}),/*#__PURE__*/_jsx(\"td\",{style:tableStyle,children:o.order_date}),/*#__PURE__*/_jsxs(\"td\",{style:tableStyle,children:[o.total_amount,\" \\u20BA\"]}),/*#__PURE__*/_jsx(\"td\",{style:tableStyle,children:/*#__PURE__*/_jsx(\"span\",{style:{color:\"green\",fontWeight:\"bold\"},children:o.status})})]},o.order_id))})]})})});}export default MyOrder;","map":{"version":3,"names":["useEffect","useState","React","PanelTemplate","useNavigate","SplashScreen","jsx","_jsx","jsxs","_jsxs","MyOrder","navigate","git","page","concat","loading","setLoading","orders","setOrders","storedInfo","localStorage","getItem","info","JSON","parse","console","log","person_id","pId","fetch","then","res","json","data","success","length","setTimeout","catch","err","error","tableStyle","padding","textAlign","border","text","title","rightContent","style","children","width","borderCollapse","marginTop","backgroundColor","color","map","o","borderBottom","order_id","order_date","total_amount","fontWeight","status"],"sources":["/Users/merveerkan/Desktop/NurCollection/Frontend/src/pages/MyOrder.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport React from \"react\";\nimport PanelTemplate from \"./PanelTemplate\";\nimport { useNavigate } from \"react-router-dom\";\nimport SplashScreen from './SplashScreen';\n\nfunction MyOrder() {\n    const navigate = useNavigate();\n    const git = (page) => {\n        navigate(`${page}`)\n    }\n    const [loading, setLoading] = useState(true);\n    const [orders, setOrders] = useState([]);\n\n    useEffect(() => {\n        // Login dosyasında düzelttiğimiz 'info' paketini okuyoruz\n        const storedInfo = localStorage.getItem(\"info\");\n        if (storedInfo) {\n            const info = JSON.parse(storedInfo);\n            console.log(\"Sorgulanan Person ID:\", info.person_id);\n            const pId = info.person_id;\n\n            fetch(`https://nur-collection-backend-860749273875.europe-west1.run.app/order/my-orders/${pId}`)\n                .then(res => res.json())\n                .then(data => {\n                    console.log(\"Backend'den gelen veri:\", data);\n                    if (data.success && data.orders.length > 0) {\n                        setOrders(data.orders);\n                    } else {\n                        console.log(\"Sipariş listesi boş geldi\");\n                    }\n                    setTimeout(() => {\n                        setLoading(false);\n                    }, 1000);\n                })\n                .catch(err => {\n                    console.error(\"Loading error:\", err);\n                    setLoading(false);\n                });\n        }\n    }, []);\n\n\n\n    const tableStyle = {\n        padding: \"12px\",\n        textAlign: \"left\",\n        border: \"1px solid #ddd\"\n    };\n\n    if (loading) {\n        return <SplashScreen text=\"Orders are being prepared....\" />;\n    }\n    return (\n        <PanelTemplate\n            title=\"My Order\"\n            rightContent={\n                <div style={{ padding: \"20px\" }}>\n                    {loading ? (\n                        <p>Loading your orders...</p>\n                    ) : orders.length === 0 ? (\n                        <p>You don't have any orders yet.</p>\n                    ) : (\n                        <table style={{ width: \"100%\", borderCollapse: \"collapse\", marginTop: \"10px\" }}>\n                            <thead>\n                                <tr style={{ backgroundColor: \"#538456ff\", color: \"white\" }}>\n                                    <th style={tableStyle}>Order ID</th>\n                                    <th style={tableStyle}>Date</th>\n                                    <th style={tableStyle}>Total Amount</th>\n                                    <th style={tableStyle}>Status</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {orders.map((o) => (\n                                    <tr key={o.order_id} style={{ borderBottom: \"1px solid #ddd\" }}>\n                                        <td style={tableStyle}>{o.order_id}</td>\n                                        <td style={tableStyle}>{o.order_date}</td>\n                                        <td style={tableStyle}>{o.total_amount} ₺</td>\n                                        <td style={tableStyle}>\n                                            <span style={{ color: \"green\", fontWeight: \"bold\" }}>\n                                                {o.status}\n                                            </span>\n                                        </td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    )}\n                </div>\n            }\n        />\n    );\n}\n\nexport default MyOrder;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}