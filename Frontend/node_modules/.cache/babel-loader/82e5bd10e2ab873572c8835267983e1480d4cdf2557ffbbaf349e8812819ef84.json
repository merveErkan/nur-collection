{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import PanelTemplate from\"./PanelTemplate\";import EmployeeInsert from\"./EmployeeInsert\";import{useNavigate,useLocation}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function EmployeeList(){const navigate=useNavigate();const[employees,setEmployees]=useState([]);const git=page=>{navigate(\"\".concat(page));};const location=useLocation();// API'den çalışanları çek\nuseEffect(()=>{fetch(\"https://nur-collection-backend-860749273875.europe-west1.run.app/manager/employeeList\").then(res=>res.json()).then(data=>{if(data.success){setEmployees(data.employees);}}).catch(err=>console.error(\"Fetch error:\",err));},[]);const handleDelete=async id=>{if(!window.confirm(\"Are you sure you want to delete this employee??\"))return;try{const response=await fetch(\"https://nur-collection-backend-860749273875.europe-west1.run.app/manager/employeeDelete/\".concat(id),{method:\"DELETE\"});const data=await response.json();if(data.success){alert(\"Employee deleted!\");setEmployees(prev=>prev.filter(emp=>emp.person_id!==id));}else{alert(data.message);}}catch(err){console.error(\"Delete error:\",err);alert(\"Error while deleting employee.\");}};return/*#__PURE__*/_jsx(PanelTemplate,{title:\"Employee List\",rightContent:/*#__PURE__*/_jsxs(\"div\",{style:{width:\"100%\"},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>git(\"employeeInsert\"),style:{backgroundColor:\"#538456ff\",color:\"white\",padding:\"10px 20px\",borderRadius:\"8px\",border:\"none\",cursor:\"pointer\"},children:\"\\u0130nsert\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"orders-table\",border:\"1\",style:{fontSize:\"10px\",marginTop:\"10px\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Person ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Last Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Gender\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\"City\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Postal Code\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Age\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Hire Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Salary\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Service Duration\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:employees.map(emp=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:emp.person_id}),/*#__PURE__*/_jsx(\"td\",{children:emp.first_name}),/*#__PURE__*/_jsx(\"td\",{children:emp.last_name}),/*#__PURE__*/_jsx(\"td\",{children:emp.gender}),/*#__PURE__*/_jsx(\"td\",{children:emp.email}),/*#__PURE__*/_jsx(\"td\",{children:emp.address}),/*#__PURE__*/_jsx(\"td\",{children:emp.city}),/*#__PURE__*/_jsx(\"td\",{children:emp.postal_code}),/*#__PURE__*/_jsx(\"td\",{children:emp.phone_number}),/*#__PURE__*/_jsx(\"td\",{children:emp.age}),/*#__PURE__*/_jsx(\"td\",{children:emp.username}),/*#__PURE__*/_jsx(\"td\",{children:emp.hire_date}),/*#__PURE__*/_jsx(\"td\",{children:emp.salary}),/*#__PURE__*/_jsx(\"td\",{children:emp.service_duration}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleDelete(emp.person_id),style:{backgroundColor:\"#c50b0bff\",color:\"white\",padding:\"8px 20px\",borderRadius:\"8px\",border:\"none\",cursor:\"pointer\"},children:\"Delete\"})})]},emp.person_id))})]})]})});}export default EmployeeList;","map":{"version":3,"names":["React","useEffect","useState","PanelTemplate","EmployeeInsert","useNavigate","useLocation","jsx","_jsx","jsxs","_jsxs","EmployeeList","navigate","employees","setEmployees","git","page","concat","location","fetch","then","res","json","data","success","catch","err","console","error","handleDelete","id","window","confirm","response","method","alert","prev","filter","emp","person_id","message","title","rightContent","style","width","children","type","onClick","backgroundColor","color","padding","borderRadius","border","cursor","className","fontSize","marginTop","map","first_name","last_name","gender","email","address","city","postal_code","phone_number","age","username","hire_date","salary","service_duration"],"sources":["/Users/merveerkan/Desktop/NurCollection/Frontend/src/pages/EmployeeList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport PanelTemplate from \"./PanelTemplate\";\nimport EmployeeInsert from \"./EmployeeInsert\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\n\nfunction EmployeeList() {\n    const navigate = useNavigate();\n    const [employees, setEmployees] = useState([]);\n    const git = (page) => {\n        navigate(`${page}`)\n    }\n    const location = useLocation();\n\n    // API'den çalışanları çek\n    useEffect(() => {\n        fetch(\"https://nur-collection-backend-860749273875.europe-west1.run.app/manager/employeeList\")\n            .then(res => res.json())\n            .then(data => {\n                if (data.success) {\n                    setEmployees(data.employees);\n                }\n            })\n            .catch(err => console.error(\"Fetch error:\", err));\n    }, []);\n\n    const handleDelete = async (id) => {\n        if (!window.confirm(\"Are you sure you want to delete this employee??\")) return;\n\n        try {\n            const response = await fetch(`https://nur-collection-backend-860749273875.europe-west1.run.app/manager/employeeDelete/${id}`, {\n                method: \"DELETE\"\n            });\n\n            const data = await response.json();\n\n            if (data.success) {\n                alert(\"Employee deleted!\");\n\n\n                setEmployees(prev => prev.filter(emp => emp.person_id !== id));\n            } else {\n                alert(data.message);\n            }\n\n        } catch (err) {\n            console.error(\"Delete error:\", err);\n            alert(\"Error while deleting employee.\");\n        }\n    };\n\n\n    return (\n        <PanelTemplate\n            title=\"Employee List\"\n            rightContent={\n                <div style={{ width: \"100%\" }}>\n                    <button type=\"button\" onClick={() => git(\"employeeInsert\")} style={{\n                        backgroundColor: \"#538456ff\",\n                        color: \"white\",\n                        padding: \"10px 20px\",\n                        borderRadius: \"8px\",\n                        border: \"none\",\n                        cursor: \"pointer\"\n                    }}>İnsert</button>\n                    <table className=\"orders-table\" border=\"1\" style={{\n                        fontSize: \"10px\",\n                        marginTop: \"10px\"\n                    }}>\n                        <thead>\n                            <tr>\n                                <th>Person ID</th>\n                                <th>First Name</th>\n                                <th>Last Name</th>\n                                <th>Gender</th>\n                                <th>Email</th>\n                                <th>Address</th>\n                                <th>City</th>\n                                <th>Postal Code</th>\n                                <th>Phone Number</th>\n                                <th>Age</th>\n                                <th>Username</th>\n                                <th>Hire Date</th>\n                                <th>Salary</th>\n                                <th>Service Duration</th>\n                            </tr>\n                        </thead>\n\n                        <tbody>\n                            {employees.map(emp => (\n                                <tr key={emp.person_id}>\n                                    <td>{emp.person_id}</td>\n                                    <td>{emp.first_name}</td>\n                                    <td>{emp.last_name}</td>\n                                    <td>{emp.gender}</td>\n                                    <td>{emp.email}</td>\n                                    <td>{emp.address}</td>\n                                    <td>{emp.city}</td>\n                                    <td>{emp.postal_code}</td>\n                                    <td>{emp.phone_number}</td>\n                                    <td>{emp.age}</td>\n                                    <td>{emp.username}</td>\n                                    <td>{emp.hire_date}</td>\n                                    <td>{emp.salary}</td>\n                                    <td>{emp.service_duration}</td>\n\n                                    <td>\n                                        <button\n                                            type=\"button\"\n                                            onClick={() => handleDelete(emp.person_id)}\n                                            style={{\n                                                backgroundColor: \"#c50b0bff\",\n                                                color: \"white\",\n                                                padding: \"8px 20px\",\n                                                borderRadius: \"8px\",\n                                                border: \"none\",\n                                                cursor: \"pointer\"\n                                            }}\n                                        >\n                                            Delete\n                                        </button>\n                                    </td>\n                                </tr>\n\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            }\n        />\n    );\n}\n\nexport default EmployeeList;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5D,QAAS,CAAAC,YAAYA,CAAA,CAAG,CACpB,KAAM,CAAAC,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACQ,SAAS,CAAEC,YAAY,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAAAa,GAAG,CAAIC,IAAI,EAAK,CAClBJ,QAAQ,IAAAK,MAAA,CAAID,IAAI,CAAE,CAAC,CACvB,CAAC,CACD,KAAM,CAAAE,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAE9B;AACAL,SAAS,CAAC,IAAM,CACZkB,KAAK,CAAC,uFAAuF,CAAC,CACzFC,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,EAAI,CACV,GAAIA,IAAI,CAACC,OAAO,CAAE,CACdV,YAAY,CAACS,IAAI,CAACV,SAAS,CAAC,CAChC,CACJ,CAAC,CAAC,CACDY,KAAK,CAACC,GAAG,EAAIC,OAAO,CAACC,KAAK,CAAC,cAAc,CAAEF,GAAG,CAAC,CAAC,CACzD,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,YAAY,CAAG,KAAO,CAAAC,EAAE,EAAK,CAC/B,GAAI,CAACC,MAAM,CAACC,OAAO,CAAC,iDAAiD,CAAC,CAAE,OAExE,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAd,KAAK,4FAAAF,MAAA,CAA4Fa,EAAE,EAAI,CAC1HI,MAAM,CAAE,QACZ,CAAC,CAAC,CAEF,KAAM,CAAAX,IAAI,CAAG,KAAM,CAAAU,QAAQ,CAACX,IAAI,CAAC,CAAC,CAElC,GAAIC,IAAI,CAACC,OAAO,CAAE,CACdW,KAAK,CAAC,mBAAmB,CAAC,CAG1BrB,YAAY,CAACsB,IAAI,EAAIA,IAAI,CAACC,MAAM,CAACC,GAAG,EAAIA,GAAG,CAACC,SAAS,GAAKT,EAAE,CAAC,CAAC,CAClE,CAAC,IAAM,CACHK,KAAK,CAACZ,IAAI,CAACiB,OAAO,CAAC,CACvB,CAEJ,CAAE,MAAOd,GAAG,CAAE,CACVC,OAAO,CAACC,KAAK,CAAC,eAAe,CAAEF,GAAG,CAAC,CACnCS,KAAK,CAAC,gCAAgC,CAAC,CAC3C,CACJ,CAAC,CAGD,mBACI3B,IAAA,CAACL,aAAa,EACVsC,KAAK,CAAC,eAAe,CACrBC,YAAY,cACRhC,KAAA,QAAKiC,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAO,CAAE,CAAAC,QAAA,eAC1BrC,IAAA,WAAQsC,IAAI,CAAC,QAAQ,CAACC,OAAO,CAAEA,CAAA,GAAMhC,GAAG,CAAC,gBAAgB,CAAE,CAAC4B,KAAK,CAAE,CAC/DK,eAAe,CAAE,WAAW,CAC5BC,KAAK,CAAE,OAAO,CACdC,OAAO,CAAE,WAAW,CACpBC,YAAY,CAAE,KAAK,CACnBC,MAAM,CAAE,MAAM,CACdC,MAAM,CAAE,SACZ,CAAE,CAAAR,QAAA,CAAC,aAAM,CAAQ,CAAC,cAClBnC,KAAA,UAAO4C,SAAS,CAAC,cAAc,CAACF,MAAM,CAAC,GAAG,CAACT,KAAK,CAAE,CAC9CY,QAAQ,CAAE,MAAM,CAChBC,SAAS,CAAE,MACf,CAAE,CAAAX,QAAA,eACErC,IAAA,UAAAqC,QAAA,cACInC,KAAA,OAAAmC,QAAA,eACIrC,IAAA,OAAAqC,QAAA,CAAI,WAAS,CAAI,CAAC,cAClBrC,IAAA,OAAAqC,QAAA,CAAI,YAAU,CAAI,CAAC,cACnBrC,IAAA,OAAAqC,QAAA,CAAI,WAAS,CAAI,CAAC,cAClBrC,IAAA,OAAAqC,QAAA,CAAI,QAAM,CAAI,CAAC,cACfrC,IAAA,OAAAqC,QAAA,CAAI,OAAK,CAAI,CAAC,cACdrC,IAAA,OAAAqC,QAAA,CAAI,SAAO,CAAI,CAAC,cAChBrC,IAAA,OAAAqC,QAAA,CAAI,MAAI,CAAI,CAAC,cACbrC,IAAA,OAAAqC,QAAA,CAAI,aAAW,CAAI,CAAC,cACpBrC,IAAA,OAAAqC,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBrC,IAAA,OAAAqC,QAAA,CAAI,KAAG,CAAI,CAAC,cACZrC,IAAA,OAAAqC,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjBrC,IAAA,OAAAqC,QAAA,CAAI,WAAS,CAAI,CAAC,cAClBrC,IAAA,OAAAqC,QAAA,CAAI,QAAM,CAAI,CAAC,cACfrC,IAAA,OAAAqC,QAAA,CAAI,kBAAgB,CAAI,CAAC,EACzB,CAAC,CACF,CAAC,cAERrC,IAAA,UAAAqC,QAAA,CACKhC,SAAS,CAAC4C,GAAG,CAACnB,GAAG,eACd5B,KAAA,OAAAmC,QAAA,eACIrC,IAAA,OAAAqC,QAAA,CAAKP,GAAG,CAACC,SAAS,CAAK,CAAC,cACxB/B,IAAA,OAAAqC,QAAA,CAAKP,GAAG,CAACoB,UAAU,CAAK,CAAC,cACzBlD,IAAA,OAAAqC,QAAA,CAAKP,GAAG,CAACqB,SAAS,CAAK,CAAC,cACxBnD,IAAA,OAAAqC,QAAA,CAAKP,GAAG,CAACsB,MAAM,CAAK,CAAC,cACrBpD,IAAA,OAAAqC,QAAA,CAAKP,GAAG,CAACuB,KAAK,CAAK,CAAC,cACpBrD,IAAA,OAAAqC,QAAA,CAAKP,GAAG,CAACwB,OAAO,CAAK,CAAC,cACtBtD,IAAA,OAAAqC,QAAA,CAAKP,GAAG,CAACyB,IAAI,CAAK,CAAC,cACnBvD,IAAA,OAAAqC,QAAA,CAAKP,GAAG,CAAC0B,WAAW,CAAK,CAAC,cAC1BxD,IAAA,OAAAqC,QAAA,CAAKP,GAAG,CAAC2B,YAAY,CAAK,CAAC,cAC3BzD,IAAA,OAAAqC,QAAA,CAAKP,GAAG,CAAC4B,GAAG,CAAK,CAAC,cAClB1D,IAAA,OAAAqC,QAAA,CAAKP,GAAG,CAAC6B,QAAQ,CAAK,CAAC,cACvB3D,IAAA,OAAAqC,QAAA,CAAKP,GAAG,CAAC8B,SAAS,CAAK,CAAC,cACxB5D,IAAA,OAAAqC,QAAA,CAAKP,GAAG,CAAC+B,MAAM,CAAK,CAAC,cACrB7D,IAAA,OAAAqC,QAAA,CAAKP,GAAG,CAACgC,gBAAgB,CAAK,CAAC,cAE/B9D,IAAA,OAAAqC,QAAA,cACIrC,IAAA,WACIsC,IAAI,CAAC,QAAQ,CACbC,OAAO,CAAEA,CAAA,GAAMlB,YAAY,CAACS,GAAG,CAACC,SAAS,CAAE,CAC3CI,KAAK,CAAE,CACHK,eAAe,CAAE,WAAW,CAC5BC,KAAK,CAAE,OAAO,CACdC,OAAO,CAAE,UAAU,CACnBC,YAAY,CAAE,KAAK,CACnBC,MAAM,CAAE,MAAM,CACdC,MAAM,CAAE,SACZ,CAAE,CAAAR,QAAA,CACL,QAED,CAAQ,CAAC,CACT,CAAC,GA/BAP,GAAG,CAACC,SAgCT,CAEP,CAAC,CACC,CAAC,EACL,CAAC,EACP,CACR,CACJ,CAAC,CAEV,CAEA,cAAe,CAAA5B,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}