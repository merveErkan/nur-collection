{"ast":null,"code":"import _objectSpread from \"/Users/merveerkan/Desktop/NurCollection/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/merveerkan/Desktop/NurCollection/Frontend/src/pages/ProductCart.js\";\nimport React, { useState, useEffect } from \"react\";\nimport PanelTemplate from \"./PanelTemplate\";\nfunction ProductCart() {\n  const [cart, setCart] = useState([]);\n\n  /* üîπ Gƒ∞Rƒ∞≈û YAPAN KULLANICI */\n  const info = JSON.parse(localStorage.getItem(\"info\"));\n  const username = info === null || info === void 0 ? void 0 : info.username;\n  const cartkey = username ? \"cart_\".concat(username) : null;\n  useEffect(() => {\n    if (!cartkey) return;\n    const storedCart = JSON.parse(localStorage.getItem(cartkey)) || [];\n    setCart(storedCart);\n  }, [cartkey]);\n\n  /* üîπ ADET AZALT */\n  const decreaseQuantity = productId => {\n    if (!cartkey) return;\n    const updatedCart = cart.map(item => item.product.product_id === productId ? _objectSpread(_objectSpread({}, item), {}, {\n      quantity: item.quantity - 1\n    }) : item).filter(item => item.quantity > 0);\n    localStorage.setItem(cartkey, JSON.stringify(updatedCart));\n    setCart(updatedCart);\n  };\n\n  /* üîπ SEPETƒ∞ TEMƒ∞ZLE */\n  const clearCart = () => {\n    if (!cartkey) return;\n    localStorage.removeItem(cartkey);\n    setCart([]);\n  };\n  return /*#__PURE__*/React.createElement(PanelTemplate, {\n    title: \"Product Cart\",\n    rightContent: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }, cart.length === 0 && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 43\n      }\n    }, \"Sepet bo\\u015F\"), cart.map(item => /*#__PURE__*/React.createElement(\"div\", {\n      key: item.product.product_id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 29\n      }\n    }, item.product.product_name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 29\n      }\n    }, \"Adet: \", item.quantity), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => decreaseQuantity(item.product.product_id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 29\n      }\n    }, \"Adet Azalt\"))), cart.length > 0 && /*#__PURE__*/React.createElement(\"button\", {\n      onClick: clearCart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }\n    }, \"Sepeti Temizle\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  });\n}\nexport default ProductCart;","map":{"version":3,"names":["React","useState","useEffect","PanelTemplate","ProductCart","cart","setCart","info","JSON","parse","localStorage","getItem","username","cartkey","concat","storedCart","decreaseQuantity","productId","updatedCart","map","item","product","product_id","_objectSpread","quantity","filter","setItem","stringify","clearCart","removeItem","createElement","title","rightContent","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","length","key","product_name","onClick"],"sources":["/Users/merveerkan/Desktop/NurCollection/Frontend/src/pages/ProductCart.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport PanelTemplate from \"./PanelTemplate\";\n\nfunction ProductCart() {\n    const [cart, setCart] = useState([]);\n\n    /* üîπ Gƒ∞Rƒ∞≈û YAPAN KULLANICI */\n    const info = JSON.parse(localStorage.getItem(\"info\"));\n    const username = info?.username;\n    const cartkey = username ? `cart_${username}` : null;\n\n\n\n    useEffect(() => {\n        if (!cartkey) return;\n\n        const storedCart = JSON.parse(localStorage.getItem(cartkey)) || [];\n        setCart(storedCart);\n    }, [cartkey]);\n\n    /* üîπ ADET AZALT */\n    const decreaseQuantity = (productId) => {\n        if (!cartkey) return;\n\n        const updatedCart = cart\n            .map(item =>\n                item.product.product_id === productId\n                    ? { ...item, quantity: item.quantity - 1 }\n                    : item\n            )\n            .filter(item => item.quantity > 0);\n\n        localStorage.setItem(cartkey, JSON.stringify(updatedCart));\n        setCart(updatedCart);\n    };\n\n    /* üîπ SEPETƒ∞ TEMƒ∞ZLE */\n    const clearCart = () => {\n        if (!cartkey) return;\n\n        localStorage.removeItem(cartkey);\n        setCart([]);\n    };\n\n    return (\n        <PanelTemplate\n            title=\"Product Cart\"\n            rightContent={\n                <div>\n                    {cart.length === 0 && <p>Sepet bo≈ü</p>}\n\n                    {cart.map(item => (\n                        <div key={item.product.product_id}>\n                            <h4>{item.product.product_name}</h4>\n                            <p>Adet: {item.quantity}</p>\n\n                            <button\n                                onClick={() =>\n                                    decreaseQuantity(item.product.product_id)\n                                }\n                            >\n                                Adet Azalt\n                            </button>\n                        </div>\n                    ))}\n\n                    {cart.length > 0 && (\n                        <button onClick={clearCart}>\n                            Sepeti Temizle\n                        </button>\n                    )}\n                </div>\n            }\n        />\n    );\n}\n\nexport default ProductCart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}